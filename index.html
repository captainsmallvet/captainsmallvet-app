<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SmallVet AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body::-webkit-scrollbar { display: none; }
        .chat-container { height: calc(100vh - 180px); }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col font-sans">

    <header class="bg-blue-600 text-white p-4 shadow-md flex justify-between items-center sticky top-0 z-10">
        <div>
            <h1 class="font-bold text-lg flex items-center gap-2">
                ü¶â <span id="user-display">SmallVet User</span> üôÇ
            </h1>
            <p id="model-display" class="text-xs opacity-80">Ready to assist</p>
        </div>
        <div class="flex gap-2">
            <button onclick="toggleMenu()" class="bg-blue-700 p-2 rounded-lg text-sm">MENU</button>
            <button onclick="clearKey()" class="bg-red-500 p-2 rounded-lg text-sm">API Key Setting</button>
        </div>
    </header>

    <div id="app-menu" class="hidden bg-white border-b p-4 shadow-inner">
captainsmallvet
    <div class="grid grid-cols-3 gap-3">
        <button onclick="openApp('https://video-frame-capture-v4.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Video Frame Capture V.4<br>‡∏à‡∏±‡∏ö‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å video frame</button>
        <button onclick="openApp('https://ai-image-story-generator-v-2.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">AI Image & Story Generator V.2<br>‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û</button>
        <button onclick="openApp('https://consistent-ai-character-story-creat-black.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Consistent AI Character Story Creator<br>create image from ref clip/image</button>
        <button onclick="openApp('https://video-text-extractor.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Video Text Extractor<br>Analyze Video ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‚Äã‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÉ‡∏ô‡∏Ñ‡∏•‡∏¥‡∏õ</button>
        <button onclick="openApp('https://gemini-video-transcriber.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Gemini Video Transcriber<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ß‡∏•‡∏≤‚Äã‡∏à‡∏≤‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‚Äã</button>
        <button onclick="openApp('https://text-to-speech-story-narrator.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Text-to-Speech Story Narrator<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏π‡∏î‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ó‡∏û‡∏π‡∏î</button>
        <button onclick="openApp('https://text-to-speech-seeds-and-temperatur.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Text-to-Speech Seeds & Temperature<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏π‡∏î‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ó‡∏û‡∏π‡∏î‡∏£‡∏∏‡πà‡∏ô 2</button>
        <button onclick="openApp('https://text-to-speech-model-temperature.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Text-to-Speech Model Temperature<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏π‡∏î‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ó‡∏û‡∏π‡∏î‡∏£‡∏∏‡πà‡∏ô 3</button>
        </div>
<br>
web link
    <div class="grid grid-cols-3 gap-3">
        <button onclick="openApp('https://labs.google/fx/th/tools/flow')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Flow<br>Google Lab</button>
        <button onclick="openApp('https://labs.google/fx/th/tools/whisk')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Whisk<br>Google Lab</button>
        <button onclick="openApp('https://opal.google')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Opal<br>Google Lab</button>
        <button onclick="openApp('https://labs.google')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Google Lab<br>Home Page</button>
        <button onclick="openApp('https://gemini.google.com')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Gemini<br>Generative AI</button>
        <button onclick="openApp('https://accounts.google.com/SignOutOptions?continue=https://aistudio.google.com/welcome')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Google AI studio<br>Sign in</button>
        <button onclick="openApp('https://aistudio.google.com/u/2/prompts/new_chat')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Playground<br>Google AI studio</button>
        <button onclick="openApp('https://aistudio.google.com/u/2/generate-speech')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Text to Speech<br>Gemini 2.5 Pro Preview TTS</button>
        <button onclick="openApp('https://translate.google.com/?hl=th&sl=auto&tl=en&op=translate')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Google ‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤<br>Google Translate</button>
        <button onclick="openApp('https://grok.com/')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Grok<br>Generative AI</button>
        <button onclick="openApp('https://www.meta.ai/')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Meta AI<br>Generative AI</button>
        <button onclick="openApp('https://github.com')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">github<br>github.com</button>
        <button onclick="openApp('https://vercel.com')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">vercel<br>https://vercel.com/button>
        <button onclick="openApp('https://gemini-video-transcriber.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Gemini Video Transcriber<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ß‡∏•‡∏≤‚Äã‡∏à‡∏≤‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‚Äã</button>
        <button onclick="openApp('https://text-to-speech-story-narrator.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">Text-to-Speech Story Narrator<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏π‡∏î‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ó‡∏û‡∏π‡∏î</button>
        </div>
        </div>

    <div class="hidden bg-white border-b p-4 grid grid-cols-3 gap-3 shadow-inner">
        <button onclick="window.location.href='‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå.html'" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏™‡πà‡∏á API key</button>
        <button onclick="openApp('https://vet-image-gen.vercel.app')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏≠‡∏û‡∏ô‡∏≠‡∏Å repo<br>detail</button>
        <button onclick="openApp('./calculators/drug-calc.html')" class="bg-gray-100 p-3 rounded-xl text-xs font-bold text-blue-600 border border-blue-200">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏≠‡∏û‡πÉ‡∏ô repo</button>
    </div>

    <div id="setup-section" class="p-6 mt-10 hidden">
        <div class="bg-white p-6 rounded-3xl shadow-xl text-center border border-blue-100">
            <div class="text-5xl mb-4">üêæ</div>
            <h2 class="text-xl font-bold mb-2">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö</h2>
            <p class="text-gray-500 text-sm mb-6">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
            
            <input type="text" id="user-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÄ‡∏ä‡πà‡∏ô thunyaluk)" 
                class="w-full p-4 border rounded-2xl mb-3 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50">
            
            <input type="password" id="api-key" placeholder="‡∏ß‡∏≤‡∏á API Key (AIzaSy...)" 
                class="w-full p-4 border rounded-2xl mb-4 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50">
            
            <button onclick="saveProfile()" class="w-full bg-blue-600 text-white p-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-transform">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        </div>
    </div>

    <main id="chat-section" class="flex-1 flex flex-col hidden">
        <div id="chat-log" class="flex-1 p-4 overflow-y-auto space-y-4 chat-container bg-gray-50">
            <div id="welcome-msg" class="bg-blue-50 text-blue-600 text-center p-3 rounded-2xl text-xs">
                ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÅ‡∏≠‡∏û‡∏≠‡∏∞‡πÑ‡∏£‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö?
            </div>
        </div>

        <div class="p-4 bg-white border-t pb-8">
            <div class="flex gap-2 max-w-4xl mx-auto">
                <input type="text" id="user-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." 
                    class="flex-1 p-4 bg-gray-100 rounded-2xl outline-none focus:ring-2 focus:ring-blue-400 transition-all text-sm">
                <button onclick="sendToAI()" id="send-btn" class="bg-blue-600 text-white px-6 rounded-2xl font-bold shadow-md">‡∏™‡πà‡∏á</button>
            </div>
         <div>
        .
        </div>
            <div class="bg-blue-50 text-blue-600 text-center p-4 rounded-2xl">
                thunyaluk assistant app
        <div>
        </div>
                Power by Google AI Studio
            </div>
        </div>
    </main>

    <script>
        const modelsToTry = ["gemini-pro-latest", "gemini-flash-latest", "gemini-3-pro-preview", "gemini-3-flash-preview", "gemini-2.5-flash", "gemini-1.5-flash"];

        window.onload = () => {
            const savedKey = localStorage.getItem('gemini_api_key');
            const savedName = localStorage.getItem('gemini_user_name');
            
            if (savedKey && savedName) {
                document.getElementById('chat-section').classList.remove('hidden');
                document.getElementById('user-display').innerText = savedName;
                document.getElementById('welcome-msg').innerText = `‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì${savedName} ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?`;
            } else {
                document.getElementById('setup-section').classList.remove('hidden');
            }
        };

        function toggleMenu() {
            document.getElementById('app-menu').classList.toggle('hidden');
        }

        function saveProfile() {
            const name = document.getElementById('user-name').value.trim();
            const key = document.getElementById('api-key').value.trim();
            
            if (name && key.startsWith('AIza')) {
                localStorage.setItem('gemini_user_name', name);
                localStorage.setItem('gemini_api_key', key);
                location.reload();
            } else { 
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™ API Key ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö"); 
            }
        }

        function clearKey() {
            if(confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠ API Key ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
                localStorage.removeItem('gemini_api_key');
                localStorage.removeItem('gemini_user_name');
                location.reload();
            }
        }

        async function sendToAI() {
            const inputField = document.getElementById('user-input');
            const prompt = inputField.value.trim();
            const apiKey = localStorage.getItem('gemini_api_key');
            const chatLog = document.getElementById('chat-log');
            const btn = document.getElementById('send-btn');
            const modelLabel = document.getElementById('model-display');

            if (!prompt) return;

            chatLog.innerHTML += `<div class="flex justify-end"><div class="bg-blue-600 text-white p-3 rounded-2xl rounded-tr-none max-w-[85%] shadow-sm text-sm">${prompt}</div></div>`;
            inputField.value = '';
            btn.disabled = true;
            btn.innerHTML = "...";

            let success = false;
            for (const modelName of modelsToTry) {
                if (success) break;
                const url = `https://generativelanguage.googleapis.com/v1beta/models/${modelName}:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    const data = await response.json();
                    if (response.ok) {
                        const aiText = data.candidates[0].content.parts[0].text;
                        chatLog.innerHTML += `<div class="flex justify-start"><div class="bg-white border text-gray-800 p-3 rounded-2xl rounded-tl-none max-w-[85%] shadow-sm text-sm">${aiText}</div></div>`;
                        modelLabel.innerText = "Mode: " + modelName.toUpperCase();
                        modelLabel.style.color = "#fbbf24"; // ‡∏™‡∏µ‡∏ó‡∏≠‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î
                        success = true;
                    }
                } catch (e) {}
            }

            if (!success) {
                chatLog.innerHTML += `<div class="text-red-500 text-center text-xs">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>`;
            }

            btn.disabled = false;
            btn.innerHTML = "‡∏™‡πà‡∏á";
            chatLog.scrollTop = chatLog.scrollHeight;
        }

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á Key ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÅ‡∏≠‡∏õ‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ
function openApp(targetUrl) {
    const apiKey = localStorage.getItem('gemini_api_key');
    const userName = localStorage.getItem('gemini_user_name');
    
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á URL ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ Parameter ‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢
    const finalUrl = `${targetUrl}?key=${encodeURIComponent(apiKey)}&name=${encodeURIComponent(userName)}`;
    
    window.location.href = finalUrl;
}

    </script>
</body>
</html>